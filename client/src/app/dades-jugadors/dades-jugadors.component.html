<div class="player-form-container">
  <div class="form-card">
    <h2 class="form-title">Agregar Jugador</h2>

    <form [formGroup]="jugadorForm" (ngSubmit)="agregarJugador()">
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" formControlName="nombre" required />
        <div class="error-message" *ngIf="jugadorForm.get('nombre')?.invalid && jugadorForm.get('nombre')?.touched">
          Nombre es requerido
        </div>
      </div>

      <div class="form-group">
        <label for="primerApellido">Primer Apellido</label>
        <input type="text" id="primerApellido" formControlName="primerApellido" required />
        <div class="error-message" *ngIf="jugadorForm.get('primerApellido')?.invalid && jugadorForm.get('primerApellido')?.touched">
          Primer apellido es requerido
        </div>
      </div>

      <div class="form-group">
        <label for="segundoApellido">Segundo Apellido</label>
        <input type="text" id="segundoApellido" formControlName="segundoApellido" required />
        <div class="error-message" *ngIf="jugadorForm.get('segundoApellido')?.invalid && jugadorForm.get('segundoApellido')?.touched">
          Segundo apellido es requerido
        </div>
      </div>

      <div class="form-group">
        <label for="talla">Talla de Camiseta</label>
        <select id="talla" formControlName="talla" required>
          <option value="" disabled selected>Seleccionar talla</option>
          <option *ngFor="let talla of tallas" [value]="talla">{{ talla }}</option>
        </select>
        <div class="error-message" *ngIf="jugadorForm.get('talla')?.invalid && jugadorForm.get('talla')?.touched">
          Talla es requerida
        </div>
      </div>

      <button type="submit" class="btn-add" [disabled]="jugadorForm.invalid">
        <span class="btn-icon">+</span>
        <span>Agregar</span>
      </button>
    </form>
  </div>

  <!-- Tabla para mostrar los jugadores agregados -->
  @if (jugadores.length > 0) {
    <div class="table-card">
      <h2 class="table-title">Jugadores Registrados</h2>
      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Primer Apellido</th>
              <th>Segundo Apellido</th>
              <th>Talla</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            @for (jugador of jugadores; track $index) {
              <tr>
                <td>{{ jugador.nombre }}</td>
                <td>{{ jugador.primerApellido }}</td>
                <td>{{ jugador.segundoApellido }}</td>
                <td>{{ jugador.talla }}</td>
                <td>
                  <button class="btn-delete" (click)="eliminarJugador($index)" aria-label="Eliminar jugador">
                    <span class="material-icons">delete</span>
                  </button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  }

  <div class="navigation-controls">
    <button class="btn-next" (click)="nextStep()">
      <span>Siguiente</span>
      <span class="material-icons">arrow_forward</span>
    </button>
  </div>
</div>
