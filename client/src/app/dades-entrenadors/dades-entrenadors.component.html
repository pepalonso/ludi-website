<div class="coach-form-container">
  <div class="form-card">
    <h2 class="form-title">Agregar Entrenador</h2>

    <form [formGroup]="entrenadorForm" (ngSubmit)="agregarEntrenador()">
      <div class="form-group">
        <label for="nombre">Nombre</label>
        <input type="text" id="nombre" formControlName="nombre" required />
        <div class="error-message" *ngIf="entrenadorForm.get('nombre')?.invalid && entrenadorForm.get('nombre')?.touched">
          Nombre es requerido
        </div>
      </div>

      <div class="form-group">
        <label for="primerApellido">Primer Apellido</label>
        <input type="text" id="primerApellido" formControlName="primerApellido" required />
        <div class="error-message" *ngIf="entrenadorForm.get('primerApellido')?.invalid && entrenadorForm.get('primerApellido')?.touched">
          Primer apellido es requerido
        </div>
      </div>

      <div class="form-group">
        <label for="segundoApellido">Segundo Apellido</label>
        <input type="text" id="segundoApellido" formControlName="segundoApellido" required />
        <div class="error-message" *ngIf="entrenadorForm.get('segundoApellido')?.invalid && entrenadorForm.get('segundoApellido')?.touched">
          Segundo apellido es requerido
        </div>
      </div>

      <div class="form-group">
        <label for="tallaCamiseta">Talla de Camiseta</label>
        <select id="tallaCamiseta" formControlName="tallaCamiseta" required>
          <option value="" disabled selected>Seleccionar talla</option>
          <option *ngFor="let talla of tallas" [value]="talla">{{ talla }}</option>
        </select>
        <div class="error-message" *ngIf="entrenadorForm.get('tallaCamiseta')?.invalid && entrenadorForm.get('tallaCamiseta')?.touched">
          Talla es requerida
        </div>
      </div>

      <div class="checkbox-group">
        <input type="checkbox" id="primerEntrenador" formControlName="primerEntrenador" />
        <label for="primerEntrenador" class="checkbox-label">¿Es Primer Entrenador?</label>
      </div>

      <button type="submit" class="btn-add" [disabled]="entrenadorForm.invalid">
        <span class="btn-icon">+</span>
        <span>Agregar</span>
      </button>
    </form>
  </div>

  <!-- Tabla para mostrar los entrenadores agregados -->
  @if (entrenadores.length > 0) {
    <div class="table-card">
      <h2 class="table-title">Entrenadores Registrados</h2>
      <div class="table-responsive">
        <table>
          <thead>
            <tr>
              <th>Nombre</th>
              <th>Primer Apellido</th>
              <th>Segundo Apellido</th>
              <th>Talla</th>
              <th>Primer Entrenador</th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody>
            @for (entrenador of entrenadores; track $index) {
              <tr>
                <td>{{ entrenador.nombre }}</td>
                <td>{{ entrenador.primerApellido }}</td>
                <td>{{ entrenador.segundoApellido }}</td>
                <td>{{ entrenador.tallaCamiseta }}</td>
                <td>{{ entrenador.primerEntrenador ? 'Sí' : 'No' }}</td>
                <td>
                  <button class="btn-delete" (click)="eliminarEntrenador($index)" aria-label="Eliminar entrenador">
                    <span class="material-icons">delete</span>
                  </button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    </div>
  }

  <div class="navigation-controls">
    <button class="btn-next" (click)="nextStep()">
      <span>Siguiente</span>
      <span class="material-icons">arrow_forward</span>
    </button>
  </div>
</div>
